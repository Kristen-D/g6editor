<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" class="translated-ltr"><head>
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script type="text/javascript" async="" src="https://www.google-analytics.com/analytics.js"></script><script type="text/javascript" async="" src="https://www.google-analytics.com/analytics.js"></script><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-62667723-1"></script>
        <script src="../theme/scripts/analytics.js"></script>
        <meta name="google-site-verification" content="2oJKLqNN62z6AOCb0A0IXGtbQuj-lev5YPAHFF_cbHQ" />
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <link rel="shortcut icon" href="../theme/favicon.ico" type="image/x-icon" />
        <title>策略：特权升级 -  MITER ATT＆CK™</title>
        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="../theme/style/bootstrap.min.css" />
        <link rel="stylesheet" href="../theme/style/bootstrap-glyphicon.min.css" />
        <link href="../theme/style/style.css" rel="stylesheet" type="text/css" /> <link type="text/css" rel="stylesheet" charset="UTF-8" href="https://translate.googleapis.com/translate_static/css/translateelement.css" /></head>

<body>
<!--stopindex-->
<header style="height: 78.5469px;">
        <nav class="navbar navbar-expand-lg navbar-dark fixed-top bg-mitre-red border-bottom">
            <a class="navbar-brand" href="../index.html"><img src="../theme/images/mitre_attack.png" height="50px" /></a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon" onclick="search('')"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarCollapse">
                <ul class="nav nav-tabs ml-auto">
                            <li class="nav-item"><a href="../matrices/enterprise" class="nav-link"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">矩阵</font></font></b></a></li>
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="enterprise" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">策略</font></font></b>
                                </a>
                                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                        <a class="dropdown-item" href="pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PRE-ATT＆CK </font></font></a>
                                        <a class="dropdown-item" href="enterprise"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">企业</font></font></a>
                                        <a class="dropdown-item" href="mobile"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">移动</font></font></a>
                                </div>
                            </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="../techniques/enterprise" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">技术</font></font></b>
                                </a>
                                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                        <a class="dropdown-item" href="../techniques/pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PRE-ATT＆CK </font></font></a>
                                        <a class="dropdown-item" href="../techniques/enterprise"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">企业</font></font></a>
                                        <a class="dropdown-item" href="../techniques/mobile"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">移动</font></font></a>
                                </div>
                            </li>
                            <li class="nav-item"><a href="../groups/index.html" class="nav-link"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组</font></font></b></a></li>
                            <li class="nav-item"><a href="../software/index.html" class="nav-link"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">软件</font></font></b></a></li>
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="../resources.1" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">资源</font></font></b>
                                </a>
                                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                    <a class="dropdown-item" href="../resources.1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一般</font></font></a>
                                    <a class="dropdown-item" href="../resources/getting-started.1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">入门</font></font></a>
                                    <a class="dropdown-item" href="../resources/attackcon.1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ATT和CKcon </font></font></a>
                                    <a class="dropdown-item" href="../resources/faq/index.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">常见问题解答</font></font></a>
                                    <a class="dropdown-item" href="../resources/updates.1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更新</font></font></a>
                                    <!-- <a class="dropdown-item" href="/resources/supporters/">Supporters</a>
                                            <a class="dropdown-item" href="/resources/industry-news/">Industry News</a> -->
                                </div>
                            </li>
                            <li class="nav-item"><a href="https://medium.com/mitre-attack/" target="_blank" class="nav-link"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">博客</font></font></b> <img src="../theme/images/external-site.svg" alt="外部网站" class="external-icon" /></a></li>
                            <li class="nav-item"><a href="../contact/index.html" class="nav-link"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">联系</font></font></b></a></li>
                </ul>
                <ul class="navbar-nav flex-row d-md-flex" style="float: right">  <!-- ml-md-auto d-none-->
                    <li>
                        <form class="form-inline pl-2">
                            <input class="form-control" type="text" placeholder="Search site" aria-label="Search" id="search" autocomplete="off" />
                        </form>
                        <div class="search-results"></div>
                    </li>
                </ul>
            </div>
        </nav>
        </header>
            <div class="container-fluid under-development"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                在</font></font><a target="_blank" href="https://attackevals.mitre.org"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">attackevals.mitre.org</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查看我们第一轮ATT和CK评估的</font><a target="_blank" href="https://attackevals.mitre.org"><font style="vertical-align: inherit;">结果</font></a><font style="vertical-align: inherit;">！
            </font></font></div>
        <!--startindex-->
<div id="content">    <div class="container-fluid">
        <div class="row">
 
             
<!--stopindex-->
    <div class="nav flex-column col-xl-2 col-lg-2 col-md-3  sidebar nav pt-5 pb-3 pl-3 border-right" id="v-tab" role="tablist" aria-orientation="vertical">
        <button class="btn btn-default dropdown-toggle heading-dropdown" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">企业</font></font></button><br />
        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
            <a class="dropdown-item" href="enterprise">ENTERPRISE</a>
            <a class="dropdown-item" href="mobile">MOBILE</a>
            <a class="dropdown-item" href="pre">PRE-ATT&amp;CK</a>
        </div>
        <span class="heading" id="v-home-tab" aria-selected="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TACTICS </font></font></span>
        <!-- <a class="nav-link side active show" id="v-overview-tab" data-toggle="tab" href="#v-overview" role="tab" aria-controls="v-overview" aria-selected="false">Overview</a> -->
       <a class="nav-link side" id="v-overview-tab" href="enterprise" aria-controls="v-overview" aria-selected="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所有</font></font></a><a class="nav-link side" id="v-initial-access-tab" href="TA0001.1" aria-controls="v-initial-access" aria-selected="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初始访问</font></font></a><a class="nav-link side" id="v-execution-tab" href="TA0002.1" aria-controls="v-execution" aria-selected="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行</font></font></a><a class="nav-link side" id="v-persistence-tab" href="TA0003.1" aria-controls="v-persistence" aria-selected="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">持久性</font></font></a><a class="nav-link side active show" id="v-privilege-escalation-tab" href="TA0004.1" aria-controls="v-privilege-escalation" aria-selected="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">权限升级</font></font></a><a class="nav-link side" id="v-defense-evasion-tab" href="TA0005.1" aria-controls="v-defense-evasion" aria-selected="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">防御逃避</font></font></a><a class="nav-link side" id="v-credential-access-tab" href="TA0006.1" aria-controls="v-credential-access" aria-selected="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">凭证访问</font></font></a><a class="nav-link side" id="v-discovery-tab" href="TA0007.1" aria-controls="v-discovery" aria-selected="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发现</font></font></a><a class="nav-link side" id="v-lateral-movement-tab" href="TA0008.1" aria-controls="v-lateral-movement" aria-selected="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">横向移动</font></font></a><a class="nav-link side" id="v-collection-tab" href="TA0009.1" aria-controls="v-collection" aria-selected="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">集合</font></font></a><a class="nav-link side" id="v-exfiltration-tab" href="TA0010.1" aria-controls="v-exfiltration" aria-selected="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exfiltration </font></font></a><a class="nav-link side" id="v-command-and-control-tab" href="TA0011.1" aria-controls="v-command-and-control" aria-selected="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令和控制</font></font></a>
    </div>
<!--startindex-->

             
            <div class="tab-content col-xl-10 col-lg-10 col-md-9 pt-4" id="v-tabContent">
                <div class="tab-pane fade show active" id="v-attckmatrix" role="tabpanel" aria-labelledby="v-attckmatrix-tab">

<ol class="breadcrumb">
  <li class="breadcrumb-item"><a href="../index.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">家</font></font></a></li>
      <li class="breadcrumb-item"><a href="enterprise"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">策略</font></font></a></li>
  <li class="breadcrumb-item"><a href="enterprise"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">企业</font></font></a></li>
  <li class="breadcrumb-item"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特权升级</font></font></li>
</ol>
<div class="tab-pane fade show active" id="v-" role="tabpanel" aria-labelledby="v--tab"></div>
<div class="row">
   <div class="col-xl-12">
      <div class="jumbotron jumbotron-fluid bg-white">
         <div class="container-fluid">
            <h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
               特权升级
            </font></font></h1>
            <div class="row">
                <div class="col-md-8 description-body"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                   权限提升是允许攻击者在系统或网络上获得更高级别权限的操作的结果。</font><font style="vertical-align: inherit;">某些工具或操作需要更高级别的权限才能工作，并且在整个操作过程中的许多点可能都是必需的。</font><font style="vertical-align: inherit;">攻击者可以进入具有非特权访问权限的系统，并且必须利用系统弱点来获取本地管理员或SYSTEM / root级别权限。</font><font style="vertical-align: inherit;">也可以使用具有类似管理员访问权限的用户帐户。</font><font style="vertical-align: inherit;">具有访问特定系统的权限或执行攻击者实现其目标所必需的特定功能的用户帐户也可被视为权限的升级。
                </font></font></div>
                <div class="col-md-4">
                   <div class="card">
                      <div class="card-body">
                         <div class="card-data"><span class="h5 card-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ID</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：TA0004</font></font></div>                  
                      </div>
                   </div>
                </div>
            </div>
            <h2 class="pt-3" id="techniques"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">技术</font></font></h2><h6 class="table-statistics"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">技巧：28</font></font></h6><table class="table table-bordered table-light mt-2"><thead><tr><th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ID</font></font></th><th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名称</font></font></th><th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">描述</font></font></th></tr></thead><tbody class="bg-white"><tr><td><a class="technique-mapping" id="v-Access Token Manipulation-privilege escalation-tab" href="../techniques/T1134"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1134</font></font></a></td><td><a class="technique-mapping" id="v-Access Token Manipulation-privilege escalation-tab" href="../techniques/T1134"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">访问令牌操作</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows使用访问令牌来确定正在运行的进程的所有权。</font><font style="vertical-align: inherit;">用户可以操纵访问令牌以使正在运行的进程看起来好像属于启动该进程的用户以外的其他人。</font><font style="vertical-align: inherit;">发生这种情况时，该过程还会采用与新令牌关联的安全上下文。</font><font style="vertical-align: inherit;">例如，Microsoft推广使用访问令牌作为安全性最佳实践。</font><font style="vertical-align: inherit;">管理员应以标准用户身份登录，但使用内置访问令牌操作命令以管理员权限运行其工具</font></font><code>runas</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-Accessibility Features-privilege escalation-tab" href="../techniques/T1015"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1015</font></font></a></td><td><a class="technique-mapping" id="v-Accessibility Features-privilege escalation-tab" href="../techniques/T1015"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">辅助功能</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows包含可在用户登录前使用组合键启动的辅助功能（例如，当用户在Windows登录屏幕上时）。</font><font style="vertical-align: inherit;">攻击者可以修改这些程序的启动方式，以获取命令提示符或后门而无需登录系统。</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-AppCert DLLs-privilege escalation-tab" href="../techniques/T1182"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1182</font></font></a></td><td><a class="technique-mapping" id="v-AppCert DLLs-privilege escalation-tab" href="../techniques/T1182"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AppCert DLL</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在注册表项中的AppCertDLLs值中指定的动态链接库（DLL）</font></font><code>HKEY_LOCAL_MACHINE\System\CurrentControlSet\Control\Session Manager</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将加载到调用无处不在的应用程序编程接口（API）函数的每个进程中：</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-AppInit DLLs-privilege escalation-tab" href="../techniques/T1103"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1103</font></font></a></td><td><a class="technique-mapping" id="v-AppInit DLLs-privilege escalation-tab" href="../techniques/T1103"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AppInit DLL</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">动态链接库（DLL）在注册表项中的AppInit_DLLs值中指定，</font></font><code>HKEY_LOCAL_MACHINE\Software\Microsoft\Windows NT\CurrentVersion\Windows</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者</font></font><code>HKEY_LOCAL_MACHINE\Software\Wow6432Node\Microsoft\Windows NT\CurrentVersion\Windows</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由user32.dll加载到每个加载user32.dll的进程中。</font><font style="vertical-align: inherit;">实际上这几乎是每个程序，因为user32.dll是一个非常常见的库。</font><font style="vertical-align: inherit;">与</font></font><a href="../techniques/T1055"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Process Injection</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类似</font><font style="vertical-align: inherit;">，可以通过在计算机上的单独进程的上下文中加载和运行恶意DLL来滥用这些值以获得持久性和权限提升。</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-Application Shimming-privilege escalation-tab" href="../techniques/T1138"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1138</font></font></a></td><td><a class="technique-mapping" id="v-Application Shimming-privilege escalation-tab" href="../techniques/T1138"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应用匀场</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建Microsoft Windows应用程序兼容性基础结构/框架（Application Shim）是为了在操作系统代码库随时间变化时允许软件的向后兼容性。</font><font style="vertical-align: inherit;">例如，应用程序填充功能允许开发人员将修补程序应用于为Windows XP创建的应用程序（无需重写代码），以便它可以与Windows 10一起使用。在框架内，创建填充程序以充当程序之间的缓冲区（或者更具体地说，导入地址表）和Windows操作系统。</font><font style="vertical-align: inherit;">执行程序时，将引用填充程序缓存以确定程序是否需要使用填充程序数据库（.sdb）。</font><font style="vertical-align: inherit;">如果是这样，则shim数据库使用</font></font><a href="../techniques/T1179"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hooking</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根据需要重定向代码以便与OS通信。</font><font style="vertical-align: inherit;">当前由默认Windows安装程序（sdbinst.exe）安装的所有填充程序的列表保存在：</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-Bypass User Account Control-privilege escalation-tab" href="../techniques/T1088"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1088</font></font></a></td><td><a class="technique-mapping" id="v-Bypass User Account Control-privilege escalation-tab" href="../techniques/T1088"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">绕过用户帐户控制</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows用户帐户控制（UAC）允许程序通过提示用户进行确认来提升其权限以执行管理员级别权限下的任务。</font><font style="vertical-align: inherit;">对用户的影响包括拒绝高执行下的操作，允许用户在本地管理员组中执行操作，并单击提示或允许他们输入管理员密码以完成操作。</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-DLL Search Order Hijacking-privilege escalation-tab" href="../techniques/T1038"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1038</font></font></a></td><td><a class="technique-mapping" id="v-DLL Search Order Hijacking-privilege escalation-tab" href="../techniques/T1038"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DLL搜索顺序劫持</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows系统使用常用方法来查找加载到程序中所需的DLL。</font><font style="vertical-align: inherit;">攻击者可以利用Windows DLL搜索顺序和模糊指定DLL的程序来获得权限提升和持久性。</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-Dylib Hijacking-privilege escalation-tab" href="../techniques/T1157"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1157</font></font></a></td><td><a class="technique-mapping" id="v-Dylib Hijacking-privilege escalation-tab" href="../techniques/T1157"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dylib劫持</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">macOS和OS X使用一种常用方法来查找基于搜索路径加载到程序中的所需动态库（dylib）。</font><font style="vertical-align: inherit;">攻击者可以利用模糊路径来植入dylib以获得权限提升或持久性。</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-Exploitation for Privilege Escalation-privilege escalation-tab" href="../techniques/T1068"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1068</font></font></a></td><td><a class="technique-mapping" id="v-Exploitation for Privilege Escalation-privilege escalation-tab" href="../techniques/T1068"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特权升级的剥削</font></font></a></td><td><p>Exploitation of a software vulnerability occurs when an adversary takes advantage of a programming error in a program, service, or within the operating system software or kernel itself to execute adversary-controlled code. Security constructs such as permission levels will often hinder access to information and use of certain techniques, so adversaries will likely need to perform Privilege Escalation to include use of software exploitation to circumvent those restrictions.</p></td></tr><tr><td><a class="technique-mapping" id="v-Extra Window Memory Injection-privilege escalation-tab" href="../techniques/T1181">T1181</a></td><td><a class="technique-mapping" id="v-Extra Window Memory Injection-privilege escalation-tab" href="../techniques/T1181">Extra Window Memory Injection</a></td><td><p>Before creating a window, graphical Windows-based processes must prescribe to or register a windows class, which stipulate appearance and behavior (via windows procedures, which are functions that handle input/output of data).  Registration of new windows classes can include a request for up to 40 bytes of extra window memory (EWM) to be appended to the allocated memory of each instance of that class. This EWM is intended to store data specific to that window and has specific application programming interface (API) functions to set and get its value.  </p></td></tr><tr><td><a class="technique-mapping" id="v-File System Permissions Weakness-privilege escalation-tab" href="../techniques/T1044">T1044</a></td><td><a class="technique-mapping" id="v-File System Permissions Weakness-privilege escalation-tab" href="../techniques/T1044">File System Permissions Weakness</a></td><td><p>Processes may automatically execute specific binaries as part of their functionality or to perform other actions. If the permissions on the file system directory containing a target binary, or permissions on the binary itself, are improperly set, then the target binary may be overwritten with another binary using user-level permissions and executed by the original process. If the original process and thread are running under a higher permissions level, then the replaced binary will also execute under higher-level permissions, which could include SYSTEM.</p></td></tr><tr><td><a class="technique-mapping" id="v-Hooking-privilege escalation-tab" href="../techniques/T1179">T1179</a></td><td><a class="technique-mapping" id="v-Hooking-privilege escalation-tab" href="../techniques/T1179">Hooking</a></td><td><p>Windows processes often leverage application programming interface (API) functions to perform tasks that require reusable system resources. Windows API functions are typically stored in dynamic-link libraries (DLLs) as exported functions. Hooking involves redirecting calls to these functions and can be implemented via:</p></td></tr><tr><td><a class="technique-mapping" id="v-Image File Execution Options Injection-privilege escalation-tab" href="../techniques/T1183">T1183</a></td><td><a class="technique-mapping" id="v-Image File Execution Options Injection-privilege escalation-tab" href="../techniques/T1183">Image File Execution Options Injection</a></td><td><p>Image File Execution Options (IFEO) enable a developer to attach a debugger to an application. When a process is created, a debugger present in an application’s IFEO will be prepended to the application’s name, effectively launching the new process under the debugger (e.g., "C:\dbg\ntsd.exe -g  notepad.exe"). </p></td></tr><tr><td><a class="technique-mapping" id="v-Launch Daemon-privilege escalation-tab" href="../techniques/T1160">T1160</a></td><td><a class="technique-mapping" id="v-Launch Daemon-privilege escalation-tab" href="../techniques/T1160">Launch Daemon</a></td><td><p>Per Apple’s developer documentation, when macOS and OS X boot up, launchd is run to finish system initialization. This process loads the parameters for each launch-on-demand system-level daemon from the property list (plist) files found in <code>/System/Library/LaunchDaemons</code> and <code>/Library/LaunchDaemons</code> . These LaunchDaemons have property list files which point to the executables that will be launched .</p></td></tr><tr><td><a class="technique-mapping" id="v-New Service-privilege escalation-tab" href="../techniques/T1050">T1050</a></td><td><a class="technique-mapping" id="v-New Service-privilege escalation-tab" href="../techniques/T1050">New Service</a></td><td><p>When operating systems boot up, they can start programs or applications called services that perform background system functions.  A service's configuration information, including the file path to the service's executable, is stored in the Windows Registry. </p></td></tr><tr><td><a class="technique-mapping" id="v-Path Interception-privilege escalation-tab" href="../techniques/T1034">T1034</a></td><td><a class="technique-mapping" id="v-Path Interception-privilege escalation-tab" href="../techniques/T1034">Path Interception</a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当可执行文件放置在特定路径中时，会发生路径拦截，以便由应用程序而不是目标目标执行。</font><font style="vertical-align: inherit;">其中一个例子是在</font><font style="vertical-align: inherit;">易受攻击的应用程序的当前工作目录中</font><font style="vertical-align: inherit;">使用</font></font><a href="../software/S0106"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cmd</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的副本，</font><font style="vertical-align: inherit;">该应用程序使用CreateProcess函数加载CMD或BAT文件。</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-Plist Modification-privilege escalation-tab" href="../techniques/T1150"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1150</font></font></a></td><td><a class="technique-mapping" id="v-Plist Modification-privilege escalation-tab" href="../techniques/T1150"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plist修改</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性列表（plist）文件包含macOS和OS X用于配置应用程序和服务的所有信息。</font><font style="vertical-align: inherit;">这些文件是UTF-8编码的，并且通过一系列由&lt;&gt;包围的键来格式化为XML文档。</font><font style="vertical-align: inherit;">它们详细说明程序何时应执行，文件路径指向可执行文件，程序参数，所需的操作系统权限等等。</font><font style="vertical-align: inherit;">plists位于某些位置，具体取决于其用途</font></font><code>/Library/Preferences</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（以提升的权限执行）和</font></font><code>~/Library/Preferences</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（以用户的权限执行）。</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-Port Monitors-privilege escalation-tab" href="../techniques/T1013"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1013</font></font></a></td><td><a class="technique-mapping" id="v-Port Monitors-privilege escalation-tab" href="../techniques/T1013"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">端口监视器</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以通过API调用设置端口监视器，以设置要在启动时加载的DLL。</font><font style="vertical-align: inherit;">此DLL可以位于</font></font><code>C:\Windows\System32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动时由打印后台处理程序服务spoolsv.exe加载并将加载。</font><font style="vertical-align: inherit;">spoolsv.exe进程也在SYSTEM级别权限下运行。</font><font style="vertical-align: inherit;">或者，如果权限允许为该DLL写入完全限定的路径名​​，则可以加载任意DLL </font></font><code>HKLM\SYSTEM\CurrentControlSet\Control\Print\Monitors</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">注册表项包含以下条目：</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-Process Injection-privilege escalation-tab" href="../techniques/T1055"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1055</font></font></a></td><td><a class="technique-mapping" id="v-Process Injection-privilege escalation-tab" href="../techniques/T1055"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">工艺注射</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进程注入是一种在单独的实时进程的地址空间中执行任意代码的方法。</font><font style="vertical-align: inherit;">在另一个进程的上下文中运行代码可能允许访问进程的内存，系统/网络资源以及可能提升的权限。</font><font style="vertical-align: inherit;">由于在合法进程下屏蔽了执行，因此通过进程注入执行也可能逃避对安全产品的检测。</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-Scheduled Task-privilege escalation-tab" href="../techniques/T1053"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1053</font></font></a></td><td><a class="technique-mapping" id="v-Scheduled Task-privilege escalation-tab" href="../techniques/T1053"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">预定任务</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">诸如</font></font><a href="../software/S0110"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">at</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><a href="../software/S0111"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">schtasks之类的</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实用程序</font><font style="vertical-align: inherit;">以及Windows任务计划程序可用于安排在日期和时间执行的程序或脚本。</font><font style="vertical-align: inherit;">如果满足正确的身份验证以使用RPC并且文件和打印机共享已打开，则还可以在远程系统上安排任务。</font><font style="vertical-align: inherit;">在远程系统上调度任务通常需要是远程系统上Administrators组的成员。</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-Service Registry Permissions Weakness-privilege escalation-tab" href="../techniques/T1058"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1058</font></font></a></td><td><a class="technique-mapping" id="v-Service Registry Permissions Weakness-privilege escalation-tab" href="../techniques/T1058"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务注册表权限弱点</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows将本地服务配置信息存储在注册表中</font></font><code>HKLM\SYSTEM\CurrentControlSet\Services</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">可以操纵存储在服务的注册表项下的信息，以通过服务控制器，sc.exe，PowerShell或</font></font><a href="../software/S0075"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reg</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等工具修改服务的执行参数</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">通过访问控制列表和权限控制对注册表项的访问。</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-Setuid and Setgid-privilege escalation-tab" href="../techniques/T1166"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1166</font></font></a></td><td><a class="technique-mapping" id="v-Setuid and Setgid-privilege escalation-tab" href="../techniques/T1166"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Setuid和Setgid</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在Linux或macOS上为应用程序设置setuid或setgid位时，这意味着应用程序将分别以拥有用户或组的权限运行。</font><font style="vertical-align: inherit;">通常，应用程序在当前用户的上下文中运行，无论哪个用户或组拥有该应用程序。</font><font style="vertical-align: inherit;">有些情况下需要在提升的上下文中执行程序才能正常运行，但运行它们的用户不需要提升的权限。</font><font style="vertical-align: inherit;">任何用户都可以指定为自己的应用程序设置的setuid或setgid标志，而不是在sudoers文件中创建必须由root用户完成的条目。</font><font style="vertical-align: inherit;">在查看文件的属性时，这些位用“s”而不是“x”表示</font></font><code>ls -l</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">该</font></font><code>chmod</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">程序可以经由bitmasking设置这些位，</font></font><code>chmod 4777 [file]</code><font style="vertical-align: inherit;"></font><code>chmod u+s [file]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-SID-History Injection-privilege escalation-tab" href="../techniques/T1178"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1178</font></font></a></td><td><a class="technique-mapping" id="v-SID-History Injection-privilege escalation-tab" href="../techniques/T1178"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SID-历史注入</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows安全标识符（SID）是标识用户或组帐户的唯一值。</font><font style="vertical-align: inherit;">Windows安全性在安全描述符和访问令牌中使用SID。</font><font style="vertical-align: inherit;">帐户可以在SID-History Active Directory属性中保存其他SID，允许域之间的可互操作帐户迁移（例如，SID-History中的所有值都包含在访问令牌中）。</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-Startup Items-privilege escalation-tab" href="../techniques/T1165"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1165</font></font></a></td><td><a class="technique-mapping" id="v-Startup Items-privilege escalation-tab" href="../techniques/T1165"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动项目</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根据Apple的文档，启动项在引导过程的最后阶段执行，并包含shell脚本或其他可执行文件以及系统用于确定所有启动项的执行顺序的配置信息。</font><font style="vertical-align: inherit;">这在技术上是一个已弃用的版本（由Launch Daemons取代），因此</font></font><code>/Library/StartupItems</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认情况下不保证系统上存在</font><font style="vertical-align: inherit;">相应的文件夹</font><font style="vertical-align: inherit;">，但默认情况下在macOS Sierra上似乎存在。</font><font style="vertical-align: inherit;">启动项是一个目录，其可执行文件和配置属性列表（plist）</font></font><code>StartupParameters.plist</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">位于顶级目录中。</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-Sudo-privilege escalation-tab" href="../techniques/T1169"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1169</font></font></a></td><td><a class="technique-mapping" id="v-Sudo-privilege escalation-tab" href="../techniques/T1169"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">须藤</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudoers文件</font></font><code>/etc/sudoers</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">描述了哪些用户可以运行哪些命令以及从哪些终端运行。</font><font style="vertical-align: inherit;">这还描述了用户可以作为其他用户或组运行的命令。</font><font style="vertical-align: inherit;">这提供了最小特权的概念，使得用户在大多数时间以最低可能的权限运行，并且仅在需要时提升到其他用户或权限，通常通过提示输入密码。</font><font style="vertical-align: inherit;">但是，sudoers文件还可以指定何时不提示用户输入类似的密码</font></font><code>user1 ALL=(ALL) NOPASSWD: ALL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-Sudo Caching-privilege escalation-tab" href="../techniques/T1206"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1206</font></font></a></td><td><a class="technique-mapping" id="v-Sudo Caching-privilege escalation-tab" href="../techniques/T1206"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sudo缓存</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><code>sudo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令“允许系统管理员委派权限，以便为某些用户（或用户组）提供以root或其他用户身份运行某些（或所有）命令的能力，同时提供命令及其参数的审计跟踪。” </font><font style="vertical-align: inherit;">由于sudo是为系统管理员制作的，因此它具有一些有用的配置功能，例如，</font></font><code>timestamp_timeout</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它是</font></font><code>sudo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重新提示输入密码之前的</font><font style="vertical-align: inherit;">实例之间的分钟数</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这是因为</font></font><code>sudo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">能够在一段时间内缓存凭据。</font><font style="vertical-align: inherit;">Sudo </font></font><code>/var/db/sudo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用上次运行sudo时的时间戳</font><font style="vertical-align: inherit;">创建（或触摸）文件，</font><font style="vertical-align: inherit;">以确定此超时。</font><font style="vertical-align: inherit;">另外，有一个</font></font><code>tty_tickets</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">孤立地处理每个新tty（终端会话）的变量。</font><font style="vertical-align: inherit;">这意味着，例如，一个tty的sudo超时不会影响另一个tty（您将不得不再次键入密码）。</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-Valid Accounts-privilege escalation-tab" href="../techniques/T1078"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1078</font></font></a></td><td><a class="technique-mapping" id="v-Valid Accounts-privilege escalation-tab" href="../techniques/T1078"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有效帐户</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">攻击者可以使用凭证访问技术窃取特定用户或服务帐户的凭据，或者通过社交工程捕获其侦察过程中的凭据以获取初始访问权限。 </font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-Web Shell-privilege escalation-tab" href="../techniques/T1100"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1100</font></font></a></td><td><a class="technique-mapping" id="v-Web Shell-privilege escalation-tab" href="../techniques/T1100"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Web Shell</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Web shell是一个Web脚本，放置在可公开访问的Web服务器上，允许攻击者将Web服务器用作网络的网关。</font><font style="vertical-align: inherit;">Web shell可以提供一组要执行的功能，或者在托管Web服务器的系统上提供命令行界面。</font><font style="vertical-align: inherit;">除了服务器端脚本之外，Web shell可能还有一个客户端接口程序，用于与Web服务器通信（例如，参见China Chopper Web shell客户端）。</font></font></p></td></tr></tbody></table>
         </div>
      </div>
   </div>
   <!-- <div class="col-xl-2 col-lg-2 col-md-0 d-block d-sm-none d-md-none d-lg-block">
      <p>Content</p>
      <div><a href="#description">Description</a></div>
      <div><a href="#techniques">Techniques</a></div>
   </div> -->
</div>
</div>

                </div>
            </div>
        </div>  
    </div>

<!--stopindex-->
<footer class="footer pt-3 pb-2">
    <div class="container-fluid text-center">
        <a class="btn btn-primary float-right mr-4" href="https://twitter.com/MITREattack" target="_blank" rel="noopener" aria-label="Twitter">
            <img src="../theme/images/twitter.png" class="mx-auto d-block" width="28" height="28" /><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 跟着我们！</font></font></a>
        <a href="https://www.mitre.org" target="_blank" rel="noopener" aria-label="MITRE" class="float-left ml-4">
            <img src="../theme/images/mitrelogowhiteontrans.gif" width="144" height="66" /></a>
        <br />
        <p>
            <br /><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有©2018，MITRE Corporation。</font><font style="vertical-align: inherit;">MITRE ATT＆CK和ATT＆CK是The MITRE Corporation的商标。</font></font></p>
        <small><a href="../resources/privacy" class="footer-link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">隐私政策</font></font></a>  <a href="../resources/terms-of-use" class="footer-link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用条款</font></font></a></small>
    </div>
</footer>

    <!--SCRIPTS-->
    <script src="../theme/scripts/jquery-3.2.1.min.js"></script>
    <script src="../theme/scripts/popper.min.js"></script>
    <script src="../theme/scripts/bootstrap.min.js"></script>
    <script src="../theme/scripts/site.js"></script>
    <script src="../theme/scripts/lunr-2.3.3.js"></script>
    <script src="../theme/scripts/search.js"></script>
    <script src="../theme/scripts/index.js"></script>

<!--SCRIPTS-->
<script src="../theme/scripts/techniques.js"></script>



<div id="goog-gt-tt" class="skiptranslate" dir="ltr"><div style="padding: 8px;"><div><div class="logo"><img src="https://www.gstatic.com/images/branding/product/1x/translate_24dp.png" width="20" height="20" alt="Google 翻译" /></div></div></div><div class="top" style="padding: 8px; float: left; width: 100%;"><h1 class="title gray">原文</h1></div><div class="middle" style="padding: 8px;"><div class="original-text"></div></div><div class="bottom" style="padding: 8px;"><div class="activity-links"><span class="activity-link">提供更好的翻译建议</span><span class="activity-link"></span></div><div class="started-activity-container"><hr style="color: #CCC; background-color: #CCC; height: 1px; border: none;" /><div class="activity-root"></div></div></div><div class="status-message" style="display: none;"></div></div><!--startindex--><div class="goog-te-spinner-pos"><div class="goog-te-spinner-animation"><svg xmlns="http://www.w3.org/2000/svg" class="goog-te-spinner" width="96px" height="96px" viewBox="0 0 66 66"><circle class="goog-te-spinner-path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"/></svg></div></div></body></html>