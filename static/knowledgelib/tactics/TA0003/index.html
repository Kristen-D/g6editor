<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" class="translated-ltr"><head>
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script type="text/javascript" async="" src="https://www.google-analytics.com/analytics.js"></script><script type="text/javascript" async="" src="https://www.google-analytics.com/analytics.js"></script><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-62667723-1"></script>
        <script src="../../theme/scripts/analytics.js"></script>
        <meta name="google-site-verification" content="2oJKLqNN62z6AOCb0A0IXGtbQuj-lev5YPAHFF_cbHQ" />
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <link rel="shortcut icon" href="../../theme/favicon.ico" type="image/x-icon" />
        <title>战术：持久性 -  MITER ATT＆CK™</title>
        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="../../theme/style/bootstrap.min.css" />
        <link rel="stylesheet" href="../../theme/style/bootstrap-glyphicon.min.css" />
        <link href="../../theme/style/style.css" rel="stylesheet" type="text/css" /> <link type="text/css" rel="stylesheet" charset="UTF-8" href="https://translate.googleapis.com/translate_static/css/translateelement.css" /></head>

<body>
<!--stopindex-->
<header style="height: 78.5469px;">
        <nav class="navbar navbar-expand-lg navbar-dark fixed-top bg-mitre-red border-bottom">
            <a class="navbar-brand" href="../../index.html"><img src="../../theme/images/mitre_attack.png" height="50px" /></a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon" onclick="search('')"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarCollapse">
                <ul class="nav nav-tabs ml-auto">
                            <li class="nav-item"><a href="../../matrices/enterprise" class="nav-link"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">矩阵</font></font></b></a></li>
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="../enterprise" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">策略</font></font></b>
                                </a>
                                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                        <a class="dropdown-item" href="../pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PRE-ATT＆CK </font></font></a>
                                        <a class="dropdown-item" href="../enterprise"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">企业</font></font></a>
                                        <a class="dropdown-item" href="../mobile"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">移动</font></font></a>
                                </div>
                            </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="../../techniques/enterprise" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">技术</font></font></b>
                                </a>
                                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                        <a class="dropdown-item" href="../../techniques/pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PRE-ATT＆CK </font></font></a>
                                        <a class="dropdown-item" href="../../techniques/enterprise"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">企业</font></font></a>
                                        <a class="dropdown-item" href="../../techniques/mobile"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">移动</font></font></a>
                                </div>
                            </li>
                            <li class="nav-item"><a href="../../groups/index.html" class="nav-link"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组</font></font></b></a></li>
                            <li class="nav-item"><a href="../../software/index.html" class="nav-link"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">软件</font></font></b></a></li>
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="../../resources.1" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">资源</font></font></b>
                                </a>
                                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                    <a class="dropdown-item" href="../../resources.1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一般</font></font></a>
                                    <a class="dropdown-item" href="../../resources/getting-started.1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">入门</font></font></a>
                                    <a class="dropdown-item" href="../../resources/attackcon.1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ATT和CKcon </font></font></a>
                                    <a class="dropdown-item" href="../../resources/faq/index.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">常见问题解答</font></font></a>
                                    <a class="dropdown-item" href="../../resources/updates.1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更新</font></font></a>
                                    <!-- <a class="dropdown-item" href="/resources/supporters/">Supporters</a>
                                            <a class="dropdown-item" href="/resources/industry-news/">Industry News</a> -->
                                </div>
                            </li>
                            <li class="nav-item"><a href="https://medium.com/mitre-attack/" target="_blank" class="nav-link"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">博客</font></font></b> <img src="../../theme/images/external-site.svg" alt="外部网站" class="external-icon" /></a></li>
                            <li class="nav-item"><a href="../../contact/index.html" class="nav-link"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">联系</font></font></b></a></li>
                </ul>
                <ul class="navbar-nav flex-row d-md-flex" style="float: right">  <!-- ml-md-auto d-none-->
                    <li>
                        <form class="form-inline pl-2">
                            <input class="form-control" type="text" placeholder="Search site" aria-label="Search" id="search" autocomplete="off" />
                        </form>
                        <div class="search-results"></div>
                    </li>
                </ul>
            </div>
        </nav>
        </header>
            <div class="container-fluid under-development"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                在</font></font><a target="_blank" href="https://attackevals.mitre.org"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">attackevals.mitre.org</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查看我们第一轮ATT和CK评估的</font><a target="_blank" href="https://attackevals.mitre.org"><font style="vertical-align: inherit;">结果</font></a><font style="vertical-align: inherit;">！
            </font></font></div>
        <!--startindex-->
<div id="content">    <div class="container-fluid">
        <div class="row">
 
             
<!--stopindex-->
    <div class="nav flex-column col-xl-2 col-lg-2 col-md-3  sidebar nav pt-5 pb-3 pl-3 border-right" id="v-tab" role="tablist" aria-orientation="vertical">
        <button class="btn btn-default dropdown-toggle heading-dropdown" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">企业</font></font></button><br />
        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
            <a class="dropdown-item" href="../enterprise"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ENTERPRISE </font></font></a>
            <a class="dropdown-item" href="../mobile"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MOBILE </font></font></a>
            <a class="dropdown-item" href="../pre"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PRE-ATT＆CK</font></font></a>
        </div>
        <span class="heading" id="v-home-tab" aria-selected="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TACTICS </font></font></span>
        <!-- <a class="nav-link side active show" id="v-overview-tab" data-toggle="tab" href="#v-overview" role="tab" aria-controls="v-overview" aria-selected="false">Overview</a> -->
       <a class="nav-link side" id="v-overview-tab" href="../enterprise" aria-controls="v-overview" aria-selected="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所有</font></font></a><a class="nav-link side" id="v-initial-access-tab" href="../TA0001.1" aria-controls="v-initial-access" aria-selected="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初始访问</font></font></a><a class="nav-link side" id="v-execution-tab" href="../TA0002.1" aria-controls="v-execution" aria-selected="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行</font></font></a><a class="nav-link side active show" id="v-persistence-tab" href="../TA0003.1" aria-controls="v-persistence" aria-selected="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">持久性</font></font></a><a class="nav-link side" id="v-privilege-escalation-tab" href="../TA0004.1" aria-controls="v-privilege-escalation" aria-selected="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">权限升级</font></font></a><a class="nav-link side" id="v-defense-evasion-tab" href="../TA0005.1" aria-controls="v-defense-evasion" aria-selected="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">防御逃避</font></font></a><a class="nav-link side" id="v-credential-access-tab" href="../TA0006.1" aria-controls="v-credential-access" aria-selected="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">凭证访问</font></font></a><a class="nav-link side" id="v-discovery-tab" href="../TA0007.1" aria-controls="v-discovery" aria-selected="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发现</font></font></a><a class="nav-link side" id="v-lateral-movement-tab" href="../TA0008.1" aria-controls="v-lateral-movement" aria-selected="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">横向移动</font></font></a><a class="nav-link side" id="v-collection-tab" href="../TA0009.1" aria-controls="v-collection" aria-selected="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">集合</font></font></a><a class="nav-link side" id="v-exfiltration-tab" href="../TA0010.1" aria-controls="v-exfiltration" aria-selected="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exfiltration </font></font></a><a class="nav-link side" id="v-command-and-control-tab" href="../TA0011.1" aria-controls="v-command-and-control" aria-selected="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令和控制</font></font></a>
    </div>
<!--startindex-->

             
            <div class="tab-content col-xl-10 col-lg-10 col-md-9 pt-4" id="v-tabContent">
                <div class="tab-pane fade show active" id="v-attckmatrix" role="tabpanel" aria-labelledby="v-attckmatrix-tab">

<ol class="breadcrumb">
  <li class="breadcrumb-item"><a href="../../index.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">家</font></font></a></li>
      <li class="breadcrumb-item"><a href="../enterprise"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">策略</font></font></a></li>
  <li class="breadcrumb-item"><a href="../enterprise"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">企业</font></font></a></li>
  <li class="breadcrumb-item"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">坚持</font></font></li>
</ol>
<div class="tab-pane fade show active" id="v-" role="tabpanel" aria-labelledby="v--tab"></div>
<div class="row">
   <div class="col-xl-12">
      <div class="jumbotron jumbotron-fluid bg-white">
         <div class="container-fluid">
            <h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
               坚持
            </font></font></h1>
            <div class="row">
                <div class="col-md-8 description-body"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                   持久性是对系统的任何访问，操作或配置更改，使对手在该系统上持久存在。</font><font style="vertical-align: inherit;">攻击者通常需要通过中断来保持对系统的访问，例如系统重启，凭据丢失或其他故障，这些故障需要远程访问工具重新启动或交替后门才能重新获得访问权限。
                </font></font></div>
                <div class="col-md-4">
                   <div class="card">
                      <div class="card-body">
                         <div class="card-data"><span class="h5 card-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ID</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：TA0003</font></font></div>                  
                      </div>
                   </div>
                </div>
            </div>
            <h2 class="pt-3" id="techniques"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">技术</font></font></h2><h6 class="table-statistics"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">技术：58</font></font></h6><table class="table table-bordered table-light mt-2"><thead><tr><th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ID</font></font></th><th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名称</font></font></th><th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">描述</font></font></th></tr></thead><tbody class="bg-white"><tr><td><a class="technique-mapping" id="v-.bash_profile and .bashrc-persistence-tab" href="../../techniques/T1156"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1156</font></font></a></td><td><a class="technique-mapping" id="v-.bash_profile and .bashrc-persistence-tab" href="../../techniques/T1156"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.bash_profile和.bashrc</font></font></a></td><td><p><code>~/.bash_profile</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并且</font></font><code>~/.bashrc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在新shell打开时或用户登录时在用户的上下文中执行，以便正确设置其环境。</font></font><code>~/.bash_profile</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为登录shell执行，并</font></font><code>~/.bashrc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为交互式非登录shell执行。</font><font style="vertical-align: inherit;">这意味着当用户（通过用户名和密码）登录到控制台（本地或通过SSH等远程登录）时，</font></font><code>~/.bash_profile</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">会在将初始命令提示符返回给用户之前执行。</font><font style="vertical-align: inherit;">之后，每次打开新shell时</font></font><code>~/.bashrc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都会执行。</font><font style="vertical-align: inherit;">这允许用户在需要执行某些命令时进行更细粒度的控制。</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-Accessibility Features-persistence-tab" href="../../techniques/T1015"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1015</font></font></a></td><td><a class="technique-mapping" id="v-Accessibility Features-persistence-tab" href="../../techniques/T1015"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">辅助功能</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows包含可在用户登录前使用组合键启动的辅助功能（例如，当用户在Windows登录屏幕上时）。</font><font style="vertical-align: inherit;">攻击者可以修改这些程序的启动方式，以获取命令提示符或后门而无需登录系统。</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-Account Manipulation-persistence-tab" href="../../techniques/T1098"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1098</font></font></a></td><td><a class="technique-mapping" id="v-Account Manipulation-persistence-tab" href="../../techniques/T1098"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">账户操纵</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">帐户操作可以帮助攻击者维护对环境中的凭证和某些权限级别的访问。</font><font style="vertical-align: inherit;">操作可以包括修改权限，修改凭据，添加或更改权限组，修改帐户设置或修改身份验证的执行方式。</font><font style="vertical-align: inherit;">这些操作还可以包括旨在破坏安全策略的帐户活动，例如执行迭代密码更新以破坏密码持续时间策略并保留受损凭据的生命周期。</font><font style="vertical-align: inherit;">为了创建或操纵帐户，攻击者必须已经拥有对系统或域的足够权限。</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-AppCert DLLs-persistence-tab" href="../../techniques/T1182"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1182</font></font></a></td><td><a class="technique-mapping" id="v-AppCert DLLs-persistence-tab" href="../../techniques/T1182"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AppCert DLL</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在注册表项中的AppCertDLLs值中指定的动态链接库（DLL）</font></font><code>HKEY_LOCAL_MACHINE\System\CurrentControlSet\Control\Session Manager</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将加载到调用无处不在的应用程序编程接口（API）函数的每个进程中：</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-AppInit DLLs-persistence-tab" href="../../techniques/T1103"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1103</font></font></a></td><td><a class="technique-mapping" id="v-AppInit DLLs-persistence-tab" href="../../techniques/T1103"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AppInit DLL</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">动态链接库（DLL）在注册表项中的AppInit_DLLs值中指定，</font></font><code>HKEY_LOCAL_MACHINE\Software\Microsoft\Windows NT\CurrentVersion\Windows</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者</font></font><code>HKEY_LOCAL_MACHINE\Software\Wow6432Node\Microsoft\Windows NT\CurrentVersion\Windows</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由user32.dll加载到每个加载user32.dll的进程中。</font><font style="vertical-align: inherit;">实际上这几乎是每个程序，因为user32.dll是一个非常常见的库。</font><font style="vertical-align: inherit;">与</font></font><a href="../../techniques/T1055"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Process Injection</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类似</font><font style="vertical-align: inherit;">，可以通过在计算机上的单独进程的上下文中加载和运行恶意DLL来滥用这些值以获得持久性和权限提升。</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-Application Shimming-persistence-tab" href="../../techniques/T1138"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1138</font></font></a></td><td><a class="technique-mapping" id="v-Application Shimming-persistence-tab" href="../../techniques/T1138"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应用匀场</font></font></a></td><td><p>The Microsoft Windows Application Compatibility Infrastructure/Framework (Application Shim) was created to allow for backward compatibility of software as the operating system codebase changes over time. For example, the application shimming feature allows developers to apply fixes to applications (without rewriting code) that were created for Windows XP so that it will work with Windows 10.  Within the framework, shims are created to act as a buffer between the program (or more specifically, the Import Address Table) and the Windows OS. When a program is executed, the shim cache is referenced to determine if the program requires the use of the shim database (.sdb). If so, the shim database uses <a href="../../techniques/T1179">Hooking</a> to redirect the code as necessary in order to communicate with the OS. A list of all shims currently installed by the default Windows installer (sdbinst.exe) is kept in:</p></td></tr><tr><td><a class="technique-mapping" id="v-Authentication Package-persistence-tab" href="../../techniques/T1131">T1131</a></td><td><a class="technique-mapping" id="v-Authentication Package-persistence-tab" href="../../techniques/T1131">Authentication Package</a></td><td><p>Windows Authentication Package DLLs are loaded by the Local Security Authority (LSA) process at system start. They provide support for multiple logon processes and multiple security protocols to the operating system. </p></td></tr><tr><td><a class="technique-mapping" id="v-BITS Jobs-persistence-tab" href="../../techniques/T1197">T1197</a></td><td><a class="technique-mapping" id="v-BITS Jobs-persistence-tab" href="../../techniques/T1197">BITS Jobs</a></td><td><p>Windows Background Intelligent Transfer Service (BITS) is a low-bandwidth, asynchronous file transfer mechanism exposed through Component Object Model (COM).   BITS is commonly used by updaters, messengers, and other applications preferred to operate in the background (using available idle bandwidth) without interrupting other networked applications. File transfer tasks are implemented as BITS jobs, which contain a queue of one or more file operations.</p></td></tr><tr><td><a class="technique-mapping" id="v-Bootkit-persistence-tab" href="../../techniques/T1067">T1067</a></td><td><a class="technique-mapping" id="v-Bootkit-persistence-tab" href="../../techniques/T1067">Bootkit</a></td><td><p>A bootkit is a malware variant that modifies the boot sectors of a hard drive, including the Master Boot Record (MBR) and Volume Boot Record (VBR). </p></td></tr><tr><td><a class="technique-mapping" id="v-Browser Extensions-persistence-tab" href="../../techniques/T1176">T1176</a></td><td><a class="technique-mapping" id="v-Browser Extensions-persistence-tab" href="../../techniques/T1176">Browser Extensions</a></td><td><p>Browser extensions or plugins are small programs that can add functionality and customize aspects of internet browsers. They can be installed directly or through a browser's app store. Extensions generally have access and permissions to everything that the browser can access.  </p></td></tr><tr><td><a class="technique-mapping" id="v-Change Default File Association-persistence-tab" href="../../techniques/T1042">T1042</a></td><td><a class="technique-mapping" id="v-Change Default File Association-persistence-tab" href="../../techniques/T1042">Change Default File Association</a></td><td><p>When a file is opened, the default program used to open the file (also called the file association or handler) is checked. File association selections are stored in the Windows Registry and can be edited by users, administrators, or programs that have Registry access   or by administrators using the built-in assoc utility.  Applications can modify the file association for a given file extension to call an arbitrary program when a file with the given extension is opened.</p></td></tr><tr><td><a class="technique-mapping" id="v-Component Firmware-persistence-tab" href="../../techniques/T1109">T1109</a></td><td><a class="technique-mapping" id="v-Component Firmware-persistence-tab" href="../../techniques/T1109">Component Firmware</a></td><td><p>Some adversaries may employ sophisticated means to compromise computer components and install malicious firmware that will execute adversary code outside of the operating system and main system firmware or BIOS. This technique may be similar to <a href="../../techniques/T1019">System Firmware</a> but conducted upon other system components that may not have the same capability or level of integrity checking. Malicious device firmware could provide both a persistent level of access to systems despite potential typical failures to maintain access and hard disk re-images, as well as a way to evade host software-based defenses and integrity checks.</p></td></tr><tr><td><a class="technique-mapping" id="v-Component Object Model Hijacking-persistence-tab" href="../../techniques/T1122">T1122</a></td><td><a class="technique-mapping" id="v-Component Object Model Hijacking-persistence-tab" href="../../techniques/T1122">Component Object Model Hijacking</a></td><td><p>The   (COM) is a system within Windows to enable interaction between software components through the operating system.  Adversaries can use this system to insert malicious code that can be executed in place of legitimate software through hijacking the COM references and relationships as a means for persistence. Hijacking a COM object requires a change in the Windows Registry to replace a reference to a legitimate system component which may cause that component to not work when executed. When that system component is executed through normal system operation the adversary's code will be executed instead.  An adversary is likely to hijack objects that are used frequently enough to maintain a consistent level of persistence, but are unlikely to break noticeable functionality within the system as to avoid system instability that could lead to detection.</p></td></tr><tr><td><a class="technique-mapping" id="v-Create Account-persistence-tab" href="../../techniques/T1136">T1136</a></td><td><a class="technique-mapping" id="v-Create Account-persistence-tab" href="../../techniques/T1136">Create Account</a></td><td><p>Adversaries with a sufficient level of access may create a local system or domain account. Such accounts may be used for persistence that do not require persistent remote access tools to be deployed on the system.</p></td></tr><tr><td><a class="technique-mapping" id="v-DLL Search Order Hijacking-persistence-tab" href="../../techniques/T1038">T1038</a></td><td><a class="technique-mapping" id="v-DLL Search Order Hijacking-persistence-tab" href="../../techniques/T1038">DLL Search Order Hijacking</a></td><td><p>Windows systems use a common method to look for required DLLs to load into a program.  Adversaries may take advantage of the Windows DLL search order and programs that ambiguously specify DLLs to gain privilege escalation and persistence. </p></td></tr><tr><td><a class="technique-mapping" id="v-Dylib Hijacking-persistence-tab" href="../../techniques/T1157">T1157</a></td><td><a class="technique-mapping" id="v-Dylib Hijacking-persistence-tab" href="../../techniques/T1157">Dylib Hijacking</a></td><td><p>macOS and OS X use a common method to look for required dynamic libraries (dylib) to load into a program based on search paths. Adversaries can take advantage of ambiguous paths to plant dylibs to gain privilege escalation or persistence.</p></td></tr><tr><td><a class="technique-mapping" id="v-External Remote Services-persistence-tab" href="../../techniques/T1133">T1133</a></td><td><a class="technique-mapping" id="v-External Remote Services-persistence-tab" href="../../techniques/T1133">External Remote Services</a></td><td><p>Remote services such as VPNs, Citrix, and other access mechanisms allow users to connect to internal enterprise network resources from external locations. There are often remote service gateways that manage connections and credential authentication for these services. Services such as <a href="../../techniques/T1028">Windows Remote Management</a> can also be used externally.</p></td></tr><tr><td><a class="technique-mapping" id="v-File System Permissions Weakness-persistence-tab" href="../../techniques/T1044">T1044</a></td><td><a class="technique-mapping" id="v-File System Permissions Weakness-persistence-tab" href="../../techniques/T1044">File System Permissions Weakness</a></td><td><p>Processes may automatically execute specific binaries as part of their functionality or to perform other actions. If the permissions on the file system directory containing a target binary, or permissions on the binary itself, are improperly set, then the target binary may be overwritten with another binary using user-level permissions and executed by the original process. If the original process and thread are running under a higher permissions level, then the replaced binary will also execute under higher-level permissions, which could include SYSTEM.</p></td></tr><tr><td><a class="technique-mapping" id="v-Hidden Files and Directories-persistence-tab" href="../../techniques/T1158">T1158</a></td><td><a class="technique-mapping" id="v-Hidden Files and Directories-persistence-tab" href="../../techniques/T1158">Hidden Files and Directories</a></td><td><p>To prevent normal users from accidentally changing special files on a system, most operating systems have the concept of a ‘hidden’ file. These files don’t show up when a user browses the file system with a GUI or when using normal commands on the command line. Users must explicitly ask to show the hidden files either via a series of Graphical User Interface (GUI) prompts or with command line switches (<code>dir /a</code> for Windows and <code>ls –a</code> for Linux and macOS).</p></td></tr><tr><td><a class="technique-mapping" id="v-Hooking-persistence-tab" href="../../techniques/T1179">T1179</a></td><td><a class="technique-mapping" id="v-Hooking-persistence-tab" href="../../techniques/T1179">Hooking</a></td><td><p>Windows processes often leverage application programming interface (API) functions to perform tasks that require reusable system resources. Windows API functions are typically stored in dynamic-link libraries (DLLs) as exported functions. Hooking involves redirecting calls to these functions and can be implemented via:</p></td></tr><tr><td><a class="technique-mapping" id="v-Hypervisor-persistence-tab" href="../../techniques/T1062">T1062</a></td><td><a class="technique-mapping" id="v-Hypervisor-persistence-tab" href="../../techniques/T1062">Hypervisor</a></td><td><p>A type-1 hypervisor is a software layer that sits between the guest operating systems and system's hardware.  It presents a virtual running environment to an operating system. An example of a common hypervisor is Xen.  A type-1 hypervisor operates at a level below the operating system and could be designed with <a href="../../techniques/T1014">Rootkit</a> functionality to hide its existence from the guest operating system.  A malicious hypervisor of this nature could be used to persist on systems through interruption.</p></td></tr><tr><td><a class="technique-mapping" id="v-Image File Execution Options Injection-persistence-tab" href="../../techniques/T1183">T1183</a></td><td><a class="technique-mapping" id="v-Image File Execution Options Injection-persistence-tab" href="../../techniques/T1183">Image File Execution Options Injection</a></td><td><p>Image File Execution Options (IFEO) enable a developer to attach a debugger to an application. When a process is created, a debugger present in an application’s IFEO will be prepended to the application’s name, effectively launching the new process under the debugger (e.g., "C:\dbg\ntsd.exe -g  notepad.exe"). </p></td></tr><tr><td><a class="technique-mapping" id="v-Kernel Modules and Extensions-persistence-tab" href="../../techniques/T1215">T1215</a></td><td><a class="technique-mapping" id="v-Kernel Modules and Extensions-persistence-tab" href="../../techniques/T1215">Kernel Modules and Extensions</a></td><td><p>Loadable Kernel Modules (or LKMs) are pieces of code that can be loaded and unloaded into the kernel upon demand. They extend the functionality of the kernel without the need to reboot the system. For example, one type of module is the device driver, which allows the kernel to access hardware connected to the system.  When used maliciously, Loadable Kernel Modules (LKMs) can be a type of kernel-mode <a href="../../techniques/T1014">Rootkit</a> that run with the highest operating system privilege (Ring 0).  Adversaries can use loadable kernel modules to covertly persist on a system and evade defenses. Examples have been found in the wild and there are some open source projects.    </p></td></tr><tr><td><a class="technique-mapping" id="v-Launch Agent-persistence-tab" href="../../techniques/T1159">T1159</a></td><td><a class="technique-mapping" id="v-Launch Agent-persistence-tab" href="../../techniques/T1159">Launch Agent</a></td><td><p>Per Apple’s developer documentation, when a user logs in, a per-user launchd process is started which loads the parameters for each launch-on-demand user agent from the property list (plist) files found in <code>/System/Library/LaunchAgents</code>, <code>/Library/LaunchAgents</code>, and <code>$HOME/Library/LaunchAgents</code>   . These launch agents have property list files which point to the executables that will be launched .</p></td></tr><tr><td><a class="technique-mapping" id="v-Launch Daemon-persistence-tab" href="../../techniques/T1160">T1160</a></td><td><a class="technique-mapping" id="v-Launch Daemon-persistence-tab" href="../../techniques/T1160">Launch Daemon</a></td><td><p>Per Apple’s developer documentation, when macOS and OS X boot up, launchd is run to finish system initialization. This process loads the parameters for each launch-on-demand system-level daemon from the property list (plist) files found in <code>/System/Library/LaunchDaemons</code> and <code>/Library/LaunchDaemons</code> . These LaunchDaemons have property list files which point to the executables that will be launched .</p></td></tr><tr><td><a class="technique-mapping" id="v-Launchctl-persistence-tab" href="../../techniques/T1152">T1152</a></td><td><a class="technique-mapping" id="v-Launchctl-persistence-tab" href="../../techniques/T1152">Launchctl</a></td><td><p>Launchctl controls the macOS launchd process which handles things like launch agents and launch daemons, but can execute other commands or programs itself. Launchctl supports taking subcommands on the command-line, interactively, or even redirected from standard input. By loading or reloading launch agents or launch daemons, adversaries can install persistence or execute changes they made  . Running a command from launchctl is as simple as <code>launchctl submit -l <labelname> -- /Path/to/thing/to/execute "arg" "arg" "arg"</labelname></code>. Loading, unloading, or reloading launch agents or launch daemons can require elevated privileges. </p></td></tr><tr><td><a class="technique-mapping" id="v-LC_LOAD_DYLIB Addition-persistence-tab" href="../../techniques/T1161">T1161</a></td><td><a class="technique-mapping" id="v-LC_LOAD_DYLIB Addition-persistence-tab" href="../../techniques/T1161">LC_LOAD_DYLIB Addition</a></td><td><p>Mach-O binaries have a series of headers that are used to perform certain operations when a binary is loaded. The LC_LOAD_DYLIB header in a Mach-O binary tells macOS and OS X which dynamic libraries (dylibs) to load during execution time. These can be added ad-hoc to the compiled binary as long adjustments are made to the rest of the fields and dependencies . There are tools available to perform these changes. Any changes will invalidate digital signatures on binaries because the binary is being modified. Adversaries can remediate this issue by simply removing the LC_CODE_SIGNATURE command from the binary so that the signature isn’t checked at load time .</p></td></tr><tr><td><a class="technique-mapping" id="v-Local Job Scheduling-persistence-tab" href="../../techniques/T1168">T1168</a></td><td><a class="technique-mapping" id="v-Local Job Scheduling-persistence-tab" href="../../techniques/T1168">Local Job Scheduling</a></td><td><p>On Linux and macOS systems, multiple methods are supported for creating pre-scheduled and periodic background jobs: cron,  at,  and launchd.  Unlike <a href="../../techniques/T1053">Scheduled Task</a> on Windows systems, job scheduling on Linux-based systems cannot be done remotely unless used in conjunction within an established remote session, like secure shell (SSH).</p></td></tr><tr><td><a class="technique-mapping" id="v-Login Item-persistence-tab" href="../../techniques/T1162">T1162</a></td><td><a class="technique-mapping" id="v-Login Item-persistence-tab" href="../../techniques/T1162">Login Item</a></td><td><p>MacOS provides the option to list specific applications to run when a user logs in. These applications run under the logged in user's context, and will be started every time the user logs in. Login items installed using the Service Management Framework are not visible in the System Preferences and can only be removed by the application that created them . Users have direct control over login items installed using a shared file list which are also visible in System Preferences . These login items are stored in the user's <code>~/Library/Preferences/</code> directory in a plist file called <code>com.apple.loginitems.plist</code> . Some of these applications can open visible dialogs to the user, but they don’t all have to since there is an option to ‘Hide’ the window. If an adversary can register their own login item or modified an existing one, then they can use it to execute their code for a persistence mechanism each time the user logs in  . The API method <code> SMLoginItemSetEnabled </code> can be used to set Login Items, but scripting languages like <a href="../../techniques/T1155">AppleScript</a> can do this as well  .</p></td></tr><tr><td><a class="technique-mapping" id="v-Logon Scripts-persistence-tab" href="../../techniques/T1037">T1037</a></td><td><a class="technique-mapping" id="v-Logon Scripts-persistence-tab" href="../../techniques/T1037">Logon Scripts</a></td><td><p>Windows allows logon scripts to be run whenever a specific user or group of users log into a system.  The scripts can be used to perform administrative functions, which may often execute other programs or send information to an internal logging server.</p></td></tr><tr><td><a class="technique-mapping" id="v-LSASS Driver-persistence-tab" href="../../techniques/T1177">T1177</a></td><td><a class="technique-mapping" id="v-LSASS Driver-persistence-tab" href="../../techniques/T1177">LSASS Driver</a></td><td><p>The Windows security subsystem is a set of components that manage and enforce the security policy for a computer or domain. The Local Security Authority (LSA) is the main component responsible for local security policy and user authentication. The LSA includes multiple dynamic link libraries (DLLs) associated with various other security functions, all of which run in the context of the LSA Subsystem Service (LSASS) lsass.exe process. </p></td></tr><tr><td><a class="technique-mapping" id="v-Modify Existing Service-persistence-tab" href="../../techniques/T1031">T1031</a></td><td><a class="technique-mapping" id="v-Modify Existing Service-persistence-tab" href="../../techniques/T1031">Modify Existing Service</a></td><td><p>Windows service configuration information, including the file path to the service's executable or recovery programs/commands, is stored in the Registry. Service configurations can be modified using utilities such as sc.exe and <a href="../../software/S0075">Reg</a>.</p></td></tr><tr><td><a class="technique-mapping" id="v-Netsh Helper DLL-persistence-tab" href="../../techniques/T1128">T1128</a></td><td><a class="technique-mapping" id="v-Netsh Helper DLL-persistence-tab" href="../../techniques/T1128">Netsh Helper DLL</a></td><td><p>Netsh.exe (also referred to as Netshell) is a command-line scripting utility used to interact with the network configuration of a system. It contains functionality to add helper DLLs for extending functionality of the utility.  The paths to registered netsh.exe helper DLLs are entered into the Windows Registry at <code>HKLM\SOFTWARE\Microsoft\Netsh</code>.</p></td></tr><tr><td><a class="technique-mapping" id="v-New Service-persistence-tab" href="../../techniques/T1050">T1050</a></td><td><a class="technique-mapping" id="v-New Service-persistence-tab" href="../../techniques/T1050">New Service</a></td><td><p>When operating systems boot up, they can start programs or applications called services that perform background system functions.  A service's configuration information, including the file path to the service's executable, is stored in the Windows Registry. </p></td></tr><tr><td><a class="technique-mapping" id="v-Office Application Startup-persistence-tab" href="../../techniques/T1137">T1137</a></td><td><a class="technique-mapping" id="v-Office Application Startup-persistence-tab" href="../../techniques/T1137">Office Application Startup</a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Microsoft Office是企业网络中基于Windows的操作系统上相当常见的应用程序套件。</font><font style="vertical-align: inherit;">在启动基于Office的应用程序时，可以使用多种机制与Office进行持久性。</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-Path Interception-persistence-tab" href="../../techniques/T1034"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1034</font></font></a></td><td><a class="technique-mapping" id="v-Path Interception-persistence-tab" href="../../techniques/T1034"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路径拦截</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当可执行文件放置在特定路径中时，会发生路径拦截，以便由应用程序而不是目标目标执行。</font><font style="vertical-align: inherit;">其中一个例子是在</font><font style="vertical-align: inherit;">易受攻击的应用程序的当前工作目录中</font><font style="vertical-align: inherit;">使用</font></font><a href="../../software/S0106"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cmd</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的副本，</font><font style="vertical-align: inherit;">该应用程序使用CreateProcess函数加载CMD或BAT文件。</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-Plist Modification-persistence-tab" href="../../techniques/T1150"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1150</font></font></a></td><td><a class="technique-mapping" id="v-Plist Modification-persistence-tab" href="../../techniques/T1150"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plist修改</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性列表（plist）文件包含macOS和OS X用于配置应用程序和服务的所有信息。</font><font style="vertical-align: inherit;">这些文件是UTF-8编码的，并且通过一系列由&lt;&gt;包围的键来格式化为XML文档。</font><font style="vertical-align: inherit;">它们详细说明程序何时应执行，文件路径指向可执行文件，程序参数，所需的操作系统权限等等。</font><font style="vertical-align: inherit;">plists位于某些位置，具体取决于其用途</font></font><code>/Library/Preferences</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（以提升的权限执行）和</font></font><code>~/Library/Preferences</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（以用户的权限执行）。</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-Port Knocking-persistence-tab" href="../../techniques/T1205"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1205</font></font></a></td><td><a class="technique-mapping" id="v-Port Knocking-persistence-tab" href="../../techniques/T1205"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">港口敲门</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Port Knocking是防御者和攻击者用来隐藏开放端口访问的完善方法。</font><font style="vertical-align: inherit;">为了启用端口，攻击者在打开端口之前发送一系列具有某些特征的数据包。</font><font style="vertical-align: inherit;">通常，这一系列数据包包括尝试连接到预定义的闭合端口序列，但可能涉及异常标志，特定字符串或其他独特特征。</font><font style="vertical-align: inherit;">序列完成后，打开端口通常由基于主机的防火墙完成，但也可以通过自定义软件实现。</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-Port Monitors-persistence-tab" href="../../techniques/T1013"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1013</font></font></a></td><td><a class="technique-mapping" id="v-Port Monitors-persistence-tab" href="../../techniques/T1013"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">端口监视器</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以通过API调用设置端口监视器，以设置要在启动时加载的DLL。</font><font style="vertical-align: inherit;">此DLL可以位于</font></font><code>C:\Windows\System32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动时由打印后台处理程序服务spoolsv.exe加载并将加载。</font><font style="vertical-align: inherit;">spoolsv.exe进程也在SYSTEM级别权限下运行。</font><font style="vertical-align: inherit;">或者，如果权限允许为该DLL写入完全限定的路径名​​，则可以加载任意DLL </font></font><code>HKLM\SYSTEM\CurrentControlSet\Control\Print\Monitors</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">注册表项包含以下条目：</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-Rc.common-persistence-tab" href="../../techniques/T1163"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1163</font></font></a></td><td><a class="technique-mapping" id="v-Rc.common-persistence-tab" href="../../techniques/T1163"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rc.common</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在引导过程中，macOS执行</font></font><code>source /etc/rc.common</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，这是一个包含各种实用程序功能的shell脚本。</font><font style="vertical-align: inherit;">此文件还定义了用于处理命令行参数和收集系统设置的例程，因此建议包含在Startup Item Scripts的开头。</font><font style="vertical-align: inherit;">在macOS和OS X中，现在这是一种不赞成使用启动代理和启动守护程序的技术，但目前仍在使用。</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-Re-opened Applications-persistence-tab" href="../../techniques/T1164"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1164</font></font></a></td><td><a class="technique-mapping" id="v-Re-opened Applications-persistence-tab" href="../../techniques/T1164"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重新打开应用程序</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从Mac OS X 10.7（Lion）开始，用户可以指定在用户重新启动计算机时重新打开的某些应用程序。</font><font style="vertical-align: inherit;">虽然这通常是通过逐个应用程序的图形用户界面（GUI）完成的，但是有一些属性列表文件（plist）包含此信息以及位于</font></font><code>~/Library/Preferences/com.apple.loginwindow.plist</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>~/Library/Preferences/ByHost/com.apple.loginwindow.* .plist</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-Redundant Access-persistence-tab" href="../../techniques/T1108"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1108</font></font></a></td><td><a class="technique-mapping" id="v-Redundant Access-persistence-tab" href="../../techniques/T1108"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">冗余访问</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">攻击者可以使用多个具有不同命令和控制协议的远程访问工具作为对冲检测。</font><font style="vertical-align: inherit;">如果作为响应检测到并阻止或删除了一种类型的工具，但组织未完全了解攻击者的工具和访问权限，那么攻击者将能够保留对网络的访问权限。</font><font style="vertical-align: inherit;">攻击者还可以尝试访问</font></font><a href="../../techniques/T1078"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有效帐户</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以使用</font></font><a href="../../techniques/T1133"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外部远程服务</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（如外部VPN）作为维护访问的方式，即使在目标网络中部署的远程访问工具中断也是如此。</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-Registry Run Keys / Startup Folder-persistence-tab" href="../../techniques/T1060"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1060</font></font></a></td><td><a class="technique-mapping" id="v-Registry Run Keys / Startup Folder-persistence-tab" href="../../techniques/T1060"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注册表运行键/启动文件夹</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在注册表或启动文件夹中向“运行键”添加条目将导致在用户登录时执行引用的程序。这些程序将在用户的上下文中执行，并具有帐户的关联权限级别。</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-Scheduled Task-persistence-tab" href="../../techniques/T1053"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1053</font></font></a></td><td><a class="technique-mapping" id="v-Scheduled Task-persistence-tab" href="../../techniques/T1053"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">预定任务</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">诸如</font></font><a href="../../software/S0110"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">at</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><a href="../../software/S0111"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">schtasks之类的</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实用程序</font><font style="vertical-align: inherit;">以及Windows任务计划程序可用于安排在日期和时间执行的程序或脚本。</font><font style="vertical-align: inherit;">如果满足正确的身份验证以使用RPC并且文件和打印机共享已打开，则还可以在远程系统上安排任务。</font><font style="vertical-align: inherit;">在远程系统上调度任务通常需要是远程系统上Administrators组的成员。</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-Screensaver-persistence-tab" href="../../techniques/T1180"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1180</font></font></a></td><td><a class="technique-mapping" id="v-Screensaver-persistence-tab" href="../../techniques/T1180"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">屏幕保护</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">屏幕保护程序是在可配置的用户不活动时间之后执行的程序，由具有.scr文件扩展名的可移植可执行文件（PE）组成。</font><font style="vertical-align: inherit;">Windows屏幕保护程序应用程序scrnsave.exe </font></font><code>C:\Windows\System32\</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与基本Windows安装附带的</font><font style="vertical-align: inherit;">屏幕保护程序</font><font style="vertical-align: inherit;">一起</font><font style="vertical-align: inherit;">位于</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">以下屏幕保护程序设置存储在Registry（</font></font><code>HKCU\Control Panel\Desktop\</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）中，可以通过操作来实现持久性：</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-Security Support Provider-persistence-tab" href="../../techniques/T1101"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1101</font></font></a></td><td><a class="technique-mapping" id="v-Security Support Provider-persistence-tab" href="../../techniques/T1101"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安全支持提供商</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows安全支持提供程序（SSP）DLL在系统启动时加载到本地安全机构（LSA）进程中。</font><font style="vertical-align: inherit;">一旦加载到LSA中，SSP DLL就可以访问存储在Windows中的加密和纯文本密码，例如任何登录用户的域密码或智能卡PIN。</font><font style="vertical-align: inherit;">SSP配置存储在两个注册表项中：</font></font><code>HKLM\SYSTEM\CurrentControlSet\Control\Lsa\Security Packages</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>HKLM\SYSTEM\CurrentControlSet\Control\Lsa\OSConfig\Security Packages</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">攻击者可以修改这些注册表项以添加新的SSP，这些SSP将在下次系统引导时加载，或者在调用AddSecurityPackage Windows API函数时加载。</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-Service Registry Permissions Weakness-persistence-tab" href="../../techniques/T1058"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1058</font></font></a></td><td><a class="technique-mapping" id="v-Service Registry Permissions Weakness-persistence-tab" href="../../techniques/T1058"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务注册表权限弱点</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows将本地服务配置信息存储在注册表中</font></font><code>HKLM\SYSTEM\CurrentControlSet\Services</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">可以操纵存储在服务的注册表项下的信息，以通过服务控制器，sc.exe，PowerShell或</font></font><a href="../../software/S0075"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reg</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等工具修改服务的执行参数</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">通过访问控制列表和权限控制对注册表项的访问。</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-Setuid and Setgid-persistence-tab" href="../../techniques/T1166"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1166</font></font></a></td><td><a class="technique-mapping" id="v-Setuid and Setgid-persistence-tab" href="../../techniques/T1166"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Setuid和Setgid</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在Linux或macOS上为应用程序设置setuid或setgid位时，这意味着应用程序将分别以拥有用户或组的权限运行。</font><font style="vertical-align: inherit;">通常，应用程序在当前用户的上下文中运行，无论哪个用户或组拥有该应用程序。</font><font style="vertical-align: inherit;">有些情况下需要在提升的上下文中执行程序才能正常运行，但运行它们的用户不需要提升的权限。</font><font style="vertical-align: inherit;">任何用户都可以指定为自己的应用程序设置的setuid或setgid标志，而不是在sudoers文件中创建必须由root用户完成的条目。</font><font style="vertical-align: inherit;">在查看文件的属性时，这些位用“s”而不是“x”表示</font></font><code>ls -l</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">该</font></font><code>chmod</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">程序可以经由bitmasking设置这些位，</font></font><code>chmod 4777 [file]</code><font style="vertical-align: inherit;"></font><code>chmod u+s [file]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-Shortcut Modification-persistence-tab" href="../../techniques/T1023"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1023</font></font></a></td><td><a class="technique-mapping" id="v-Shortcut Modification-persistence-tab" href="../../techniques/T1023"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">快捷方式修改</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">快捷方式或符号链接是引用在系统启动过程单击或执行快捷方式时将打开或执行的其他文件或程序的方法。</font><font style="vertical-align: inherit;">攻击者可以使用快捷方式执行其持久性工具。</font><font style="vertical-align: inherit;">他们可以创建一个新的快捷方式作为间接手段，可以使用</font></font><a href="../../techniques/T1036"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">伪装</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">看起来像一个合法的程序。</font><font style="vertical-align: inherit;">攻击者还可以编辑目标路径或完全替换现有快捷方式，以便执行其工具而不是预期的合法程序。</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-SIP and Trust Provider Hijacking-persistence-tab" href="../../techniques/T1198"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1198</font></font></a></td><td><a class="technique-mapping" id="v-SIP and Trust Provider Hijacking-persistence-tab" href="../../techniques/T1198"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SIP和信任提供商劫持</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在用户模式下，Windows Authenticode数字签名用于验证文件的来源和完整性，可用于在签名代码中建立信任的变量（例如：具有有效Microsoft签名的驱动程序可以被视为安全）。</font><font style="vertical-align: inherit;">签名验证过程通过WinVerifyTrust应用程序编程接口（API）函数处理，该函数接受查询并与适当的信任提供者协调，该信任提供者负责验证签名的参数。</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-Startup Items-persistence-tab" href="../../techniques/T1165"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1165</font></font></a></td><td><a class="technique-mapping" id="v-Startup Items-persistence-tab" href="../../techniques/T1165"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动项目</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根据Apple的文档，启动项在引导过程的最后阶段执行，并包含shell脚本或其他可执行文件以及系统用于确定所有启动项的执行顺序的配置信息。</font><font style="vertical-align: inherit;">这在技术上是一个已弃用的版本（由Launch Daemons取代），因此</font></font><code>/Library/StartupItems</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认情况下不保证系统上存在</font><font style="vertical-align: inherit;">相应的文件夹</font><font style="vertical-align: inherit;">，但默认情况下在macOS Sierra上似乎存在。</font><font style="vertical-align: inherit;">启动项是一个目录，其可执行文件和配置属性列表（plist）</font></font><code>StartupParameters.plist</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">位于顶级目录中。</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-System Firmware-persistence-tab" href="../../techniques/T1019"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1019</font></font></a></td><td><a class="technique-mapping" id="v-System Firmware-persistence-tab" href="../../techniques/T1019"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统固件</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BIOS（基本输入/输出系统）和统一可扩展固件接口（UEFI）或可扩展固件接口（EFI）是作为操作系统和计算机硬件之间的软件接口操作的系统固件的示例。   </font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-Time Providers-persistence-tab" href="../../techniques/T1209"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1209</font></font></a></td><td><a class="technique-mapping" id="v-Time Providers-persistence-tab" href="../../techniques/T1209"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时间提供者</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows时间服务（W32Time）支持域内和域内的时间同步。</font><font style="vertical-align: inherit;">W32Time时间提供程序负责从硬件/网络资源检索时间戳并将这些值输出到其他网络客户端。</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-Trap-persistence-tab" href="../../techniques/T1154"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1154</font></font></a></td><td><a class="technique-mapping" id="v-Trap-persistence-tab" href="../../techniques/T1154"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">陷阱</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><code>trap</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令允许程序和shell指定在接收中断信号时将执行的命令。</font><font style="vertical-align: inherit;">常见的情况是脚本允许正常终止和处理常见的键盘中断，如</font></font><code>ctrl+c</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>ctrl+d</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">攻击者可以使用它来注册当shell遇到特定中断以执行或作为持久性机制时要执行的代码。</font><font style="vertical-align: inherit;">陷阱命令具有以下格式</font></font><code>trap 'command list' signals</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，其中当接收到“信号”时将执行“命令列表”。</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-Valid Accounts-persistence-tab" href="../../techniques/T1078"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1078</font></font></a></td><td><a class="technique-mapping" id="v-Valid Accounts-persistence-tab" href="../../techniques/T1078"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有效帐户</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">攻击者可以使用凭证访问技术窃取特定用户或服务帐户的凭据，或者通过社交工程捕获其侦察过程中的凭据以获取初始访问权限。 </font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-Web Shell-persistence-tab" href="../../techniques/T1100"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1100</font></font></a></td><td><a class="technique-mapping" id="v-Web Shell-persistence-tab" href="../../techniques/T1100"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Web Shell</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Web shell是一个Web脚本，放置在可公开访问的Web服务器上，允许攻击者将Web服务器用作网络的网关。</font><font style="vertical-align: inherit;">Web shell可以提供一组要执行的功能，或者在托管Web服务器的系统上提供命令行界面。</font><font style="vertical-align: inherit;">除了服务器端脚本之外，Web shell可能还有一个客户端接口程序，用于与Web服务器通信（例如，参见China Chopper Web shell客户端）。</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-Windows Management Instrumentation Event Subscription-persistence-tab" href="../../techniques/T1084"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1084</font></font></a></td><td><a class="technique-mapping" id="v-Windows Management Instrumentation Event Subscription-persistence-tab" href="../../techniques/T1084"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows Management Instrumentation事件订阅</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows Management Instrumentation（WMI）可用于安装在发生定义事件时执行代码的事件过滤器，提供程序，使用者和绑定。</font><font style="vertical-align: inherit;">攻击者可以使用WMI的功能来订阅事件并在事件发生时执行任意代码，从而在系统上提供持久性。</font><font style="vertical-align: inherit;">攻击者可能会试图通过编译WMI脚本来逃避对此技术的检测。</font><font style="vertical-align: inherit;">可以订阅的事件的示例是挂钟时间或计算机的正常运行时间。</font><font style="vertical-align: inherit;">据报道，有几个威胁组织使用这种技术来维持持久性。</font></font></p></td></tr><tr><td><a class="technique-mapping" id="v-Winlogon Helper DLL-persistence-tab" href="../../techniques/T1004"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1004</font></font></a></td><td><a class="technique-mapping" id="v-Winlogon Helper DLL-persistence-tab" href="../../techniques/T1004"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Winlogon Helper DLL</font></font></a></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Winlogon.exe是一个Windows组件，负责登录/注销时的操作以及Ctrl-Alt-Delete触发的安全注意序列（SAS）。</font><font style="vertical-align: inherit;">注册表项</font></font><code>HKLM\Software[Wow6432Node]Microsoft\Windows NT\CurrentVersion\Winlogon\</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>HKCU\Software\Microsoft\Windows NT\CurrentVersion\Winlogon\</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于管理支持Winlogon的其他帮助程序和功能。  </font></font></p></td></tr></tbody></table>
         </div>
      </div>
   </div>
   <!-- <div class="col-xl-2 col-lg-2 col-md-0 d-block d-sm-none d-md-none d-lg-block">
      <p>Content</p>
      <div><a href="#description">Description</a></div>
      <div><a href="#techniques">Techniques</a></div>
   </div> -->
</div>
</div>

                </div>
            </div>
        </div>  
    </div>

<!--stopindex-->
<footer class="footer pt-3 pb-2">
    <div class="container-fluid text-center">
        <a class="btn btn-primary float-right mr-4" href="https://twitter.com/MITREattack" target="_blank" rel="noopener" aria-label="Twitter">
            <img src="../../theme/images/twitter.png" class="mx-auto d-block" width="28" height="28" /><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 跟着我们！</font></font></a>
        <a href="https://www.mitre.org" target="_blank" rel="noopener" aria-label="MITRE" class="float-left ml-4">
            <img src="../../theme/images/mitrelogowhiteontrans.gif" width="144" height="66" /></a>
        <br />
        <p>
            <br /><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有©2018，MITRE Corporation。</font><font style="vertical-align: inherit;">MITRE ATT＆CK和ATT＆CK是The MITRE Corporation的商标。</font></font></p>
        <small><a href="../../resources/privacy" class="footer-link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">隐私政策</font></font></a>  <a href="../../resources/terms-of-use" class="footer-link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用条款</font></font></a></small>
    </div>
</footer>

    <!--SCRIPTS-->
    <script src="../../theme/scripts/jquery-3.2.1.min.js"></script>
    <script src="../../theme/scripts/popper.min.js"></script>
    <script src="../../theme/scripts/bootstrap.min.js"></script>
    <script src="../../theme/scripts/site.js"></script>
    <script src="../../theme/scripts/lunr-2.3.3.js"></script>
    <script src="../../theme/scripts/search.js"></script>
    <script src="../../theme/scripts/index.js"></script>

<!--SCRIPTS-->
<script src="../../theme/scripts/techniques.js"></script>



<div id="goog-gt-tt" class="skiptranslate" dir="ltr"><div style="padding: 8px;"><div><div class="logo"><img src="https://www.gstatic.com/images/branding/product/1x/translate_24dp.png" width="20" height="20" alt="Google 翻译" /></div></div></div><div class="top" style="padding: 8px; float: left; width: 100%;"><h1 class="title gray">原文</h1></div><div class="middle" style="padding: 8px;"><div class="original-text"></div></div><div class="bottom" style="padding: 8px;"><div class="activity-links"><span class="activity-link">提供更好的翻译建议</span><span class="activity-link"></span></div><div class="started-activity-container"><hr style="color: #CCC; background-color: #CCC; height: 1px; border: none;" /><div class="activity-root"></div></div></div><div class="status-message" style="display: none;"></div></div><!--startindex--><div class="goog-te-spinner-pos goog-te-spinner-pos-show"><div class="goog-te-spinner-animation goog-te-spinner-animation-show"><svg xmlns="http://www.w3.org/2000/svg" class="goog-te-spinner" width="96px" height="96px" viewBox="0 0 66 66"><circle class="goog-te-spinner-path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"/></svg></div></div></body></html>